{% extends 'todo/base.html' %} {% load static %} {% block content %}
<style>
  .form-container {
    animation: fadeInScale 0.6s ease-out;
  }

  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .form-field {
    transition: all 0.3s ease;
  }

  .form-field:focus-within {
    transform: translateY(-2px);
  }

  .form-field input,
  .form-field textarea,
  .form-field select {
    transition: all 0.3s ease;
  }

  .form-field input:focus,
  .form-field textarea:focus,
  .form-field select:focus {
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
    border-color: #667eea;
    transform: scale(1.01);
  }

  .action-btn {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.2);
  }

  .action-btn::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .action-btn:hover::before {
    width: 400px;
    height: 400px;
  }

  .floating-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: float 8s ease-in-out infinite;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-30px) rotate(180deg);
    }
  }

  /* Style pour les champs Django form */
  .form-field label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #334155;
    font-size: 0.875rem;
  }

  .form-field input[type="text"],
  .form-field input[type="email"],
  .form-field input[type="password"],
  .form-field input[type="date"],
  .form-field input[type="time"],
  .form-field textarea,
  .form-field select {
    width: 100%;
    padding: 0.875rem 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 0.75rem;
    font-size: 0.95rem;
    outline: none;
    background: white;
  }

  .form-field textarea {
    min-height: 120px;
    resize: vertical;
  }

  .form-field input[type="checkbox"] {
    width: 1.25rem;
    height: 1.25rem;
    accent-color: #667eea;
    cursor: pointer;
  }

  .form-field p {
    margin-bottom: 1.25rem;
  }

  .back-link {
    transition: all 0.3s ease;
  }

  .back-link:hover {
    transform: translateX(-4px);
  }

  .pulse-icon {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
</style>

<div
  class="min-h-[85vh] flex items-center justify-center relative overflow-hidden py-12 px-4"
>
  <!-- Formes flottantes d√©coratives -->
  <div
    class="floating-shape w-96 h-96 bg-orange-400 absolute top-10 -left-32"
    style="animation-delay: 0s"
  ></div>
  <div
    class="floating-shape w-[500px] h-[500px] bg-amber-400 absolute bottom-0 -right-40"
    style="animation-delay: 3s"
  ></div>
  <div
    class="floating-shape w-80 h-80 bg-yellow-400 absolute top-1/3 left-1/2"
    style="animation-delay: 6s"
  ></div>

  <div class="form-container w-full max-w-2xl relative z-10">
    <!-- Card principale -->
    <div
      class="bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden"
    >
      <!-- Header avec gradient -->
      <div
        class="bg-gradient-to-r from-orange-600 via-amber-600 to-yellow-600 px-8 py-6 relative overflow-hidden"
      >
        <div class="absolute inset-0 opacity-20">
          <div
            class="absolute top-0 right-0 w-40 h-40 bg-white rounded-full filter blur-3xl"
          ></div>
          <div
            class="absolute bottom-0 left-0 w-40 h-40 bg-yellow-300 rounded-full filter blur-3xl"
          ></div>
        </div>

        <div class="relative z-10 flex items-center gap-4">
          <div
            class="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-xl pulse-icon"
          >
            <span class="text-4xl">‚úèÔ∏è</span>
          </div>
          <div>
            <h2 class="text-3xl font-black text-white mb-1">
              Modifier la t√¢che
            </h2>
            <p class="text-white/80 text-sm">
              Mettez √† jour les informations de votre t√¢che
            </p>
          </div>
        </div>
      </div>

      <!-- Formulaire -->
      <div class="p-8">
        <form method="POST" class="space-y-5">
          {% csrf_token %}

          <div class="form-field">{{ form.as_p }}</div>
          
          <!-- Boutons d'action -->
          <div class="flex gap-4 pt-4">
            <button
              type="submit"
              class="action-btn flex-1 py-4 bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-700 hover:to-amber-700 text-white rounded-xl font-bold text-lg shadow-lg relative overflow-hidden"
            >
              <span
                class="relative z-10 flex items-center justify-center gap-2"
              >
                <span>üíæ</span>
                <span>Enregistrer les modifications</span>
              </span>
            </button>

            <a
              href="{% url 'list_task' %}"
              class="action-btn flex-1 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold text-lg shadow-lg text-center flex items-center justify-center gap-2"
            >
              <span>‚úï</span>
              <span>Annuler</span>
            </a>
          </div>
        </form>

        <!-- Actions suppl√©mentaires -->
        <div
          class="mt-6 pt-6 border-t border-slate-200 flex items-center justify-between"
        >
          <a
            href="{% url 'list_task' %}"
            class="back-link inline-flex items-center gap-2 text-slate-600 hover:text-orange-600 font-semibold transition-all"
          >
            <span>‚Üê</span>
            <span>Retour √† la liste</span>
          </a>

          <div class="flex items-center gap-3 text-sm text-slate-500">
            <span>üïê</span>
            <span>Derni√®re modification</span>
          </div>
        </div>

        <!-- Info suppl√©mentaire -->
        <div
          class="mt-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-4 border border-orange-200"
        >
          <div class="flex items-start gap-3 text-sm text-slate-700">
            <span class="text-xl">‚ö°</span>
            <div>
              <p class="font-semibold text-slate-800 mb-1">
                Modification rapide
              </p>
              <p class="text-xs text-slate-600">
                Vos modifications sont enregistr√©es en temps r√©el. N'oubliez pas
                de cliquer sur "Enregistrer" pour valider.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Aper√ßu des changements -->
    <div class="grid grid-cols-2 gap-4 mt-6">
      <div
        class="bg-white/90 backdrop-blur-sm rounded-2xl p-5 shadow-lg border border-white/20"
      >
        <div class="flex items-center gap-3 mb-2">
          <span class="text-2xl">üìä</span>
          <h3 class="font-bold text-slate-800">Statut</h3>
        </div>
        <p class="text-sm text-slate-600">Modifiez le statut de votre t√¢che</p>
      </div>

      <div
        class="bg-white/90 backdrop-blur-sm rounded-2xl p-5 shadow-lg border border-white/20"
      >
        <div class="flex items-center gap-3 mb-2">
          <span class="text-2xl">üéØ</span>
          <h3 class="font-bold text-slate-800">Priorit√©</h3>
        </div>
        <p class="text-sm text-slate-600">Ajustez l'importance de la t√¢che</p>
      </div>
    </div>
  </div>
</div>

{% endblock %}
