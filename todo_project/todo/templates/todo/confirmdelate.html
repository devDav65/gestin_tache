{% extends 'todo/base.html' %}
{% load static %}

{% block content %}
<style>
  .modal-container {
    animation: modalAppear 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
  
  .danger-icon {
    animation: shake 0.5s ease-in-out, pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
  
  .delete-btn {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .delete-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 28px rgba(239, 68, 68, 0.5);
  }
  
  .delete-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  .delete-btn:hover::before {
    width: 400px;
    height: 400px;
  }
  
  .cancel-btn {
    transition: all 0.3s ease;
  }
  
  .cancel-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
  }
  
  .warning-box {
    animation: slideDown 0.6s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      max-height: 0;
    }
    to {
      opacity: 1;
      max-height: 200px;
    }
  }
  
  .floating-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.2;
    animation: float 8s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(180deg); }
  }
</style>

<div class="min-h-[85vh] flex items-center justify-center relative overflow-hidden py-12 px-4">
  
  <!-- Formes flottantes d√©coratives en rouge -->
  <div class="floating-shape w-96 h-96 bg-red-500 absolute top-10 -left-32" style="animation-delay: 0s;"></div>
  <div class="floating-shape w-[500px] h-[500px] bg-pink-500 absolute bottom-0 -right-40" style="animation-delay: 3s;"></div>
  <div class="floating-shape w-80 h-80 bg-rose-500 absolute top-1/3 left-1/2" style="animation-delay: 6s;"></div>

  <div class="modal-container w-full max-w-xl relative z-10">
    
    <!-- Card principale -->
    <div class="bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border-2 border-red-200 overflow-hidden">
      
      <!-- Header avec ic√¥ne danger -->
      <div class="bg-gradient-to-r from-red-600 via-rose-600 to-pink-600 px-8 py-6 relative overflow-hidden">
        <div class="absolute inset-0 opacity-20">
          <div class="absolute top-0 right-0 w-40 h-40 bg-white rounded-full filter blur-3xl"></div>
          <div class="absolute bottom-0 left-0 w-40 h-40 bg-red-300 rounded-full filter blur-3xl"></div>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
          <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center shadow-2xl mb-4">
            <span class="text-5xl danger-icon">‚ö†Ô∏è</span>
          </div>
          <h2 class="text-2xl font-black text-white text-center">
            Confirmation de suppression
          </h2>
        </div>
      </div>

      <!-- Contenu -->
      <div class="p-8">
        
        <!-- Message principal -->
        <div class="text-center mb-6">
          <p class="text-lg text-slate-700 mb-3">
            √ätes-vous s√ªr de vouloir supprimer la t√¢che
          </p>
          <div class="inline-block bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-2xl px-6 py-3">
            <p class="text-2xl font-black text-red-600">
              "{{ task.titre }}"
            </p>
          </div>
        </div>

        <!-- Box d'avertissement -->
        <div class="warning-box bg-gradient-to-r from-red-50 via-rose-50 to-pink-50 border-2 border-red-200 rounded-2xl p-5 mb-6">
          <div class="flex items-start gap-3">
            <span class="text-2xl">üö®</span>
            <div class="flex-1">
              <p class="font-bold text-red-800 mb-2">Attention : Action irr√©versible !</p>
              <ul class="text-sm text-slate-700 space-y-1">
                <li class="flex items-center gap-2">
                  <span class="text-red-500">‚Ä¢</span>
                  <span>Cette t√¢che sera d√©finitivement supprim√©e</span>
                </li>
                <li class="flex items-center gap-2">
                  <span class="text-red-500">‚Ä¢</span>
                  <span>Toutes les donn√©es associ√©es seront perdues</span>
                </li>
                <li class="flex items-center gap-2">
                  <span class="text-red-500">‚Ä¢</span>
                  <span>Cette action ne peut pas √™tre annul√©e</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Formulaire et boutons -->
        <form method="POST" class="space-y-4">
          {% csrf_token %}
          
          <button
            type="submit"
            class="delete-btn w-full py-4 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white rounded-xl font-bold text-lg shadow-lg relative overflow-hidden"
          >
            <span class="relative z-10 flex items-center justify-center gap-2">
              <span>üóëÔ∏è</span>
              <span>Oui, supprimer d√©finitivement</span>
            </span>
          </button>
          
          <a
            href="{% url 'list_task' %}"
            class="cancel-btn block w-full py-4 bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 text-slate-700 rounded-xl font-bold text-lg shadow-lg text-center"
          >
            <span class="flex items-center justify-center gap-2">
              <span>‚Üê</span>
              <span>Non, annuler et retourner</span>
            </span>
          </a>
        </form>

        <!-- Info suppl√©mentaire -->
        <div class="mt-6 text-center">
          <p class="text-xs text-slate-500">
            üí° Conseil : Vous pouvez aussi marquer la t√¢che comme termin√©e au lieu de la supprimer
          </p>
        </div>
      </div>

    </div>

    <!-- Statistiques d'impact -->
    <div class="grid grid-cols-3 gap-4 mt-6">
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg text-center border border-red-200">
        <p class="text-xl">‚è∞</p>
        <p class="text-xs text-slate-600 font-medium mt-1">Temps investi</p>
      </div>
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg text-center border border-red-200">
        <p class="text-xl">üìä</p>
        <p class="text-xs text-slate-600 font-medium mt-1">Historique</p>
      </div>
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg text-center border border-red-200">
        <p class="text-xl">üîó</p>
        <p class="text-xs text-slate-600 font-medium mt-1">Liens associ√©s</p>
      </div>
    </div>

  </div>
</div>

{% endblock %}