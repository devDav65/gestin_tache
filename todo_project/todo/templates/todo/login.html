{% extends "todo/base.html" %} 
{% load static %} 

{% block content %}
<style>
  .login-container {
    animation: fadeInUp 0.6s ease-out;
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .input-field {
    transition: all 0.3s ease;
  }
  
  .input-field:focus {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
  }
  
  .btn-submit {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 24px rgba(102, 126, 234, 0.4);
  }
  
  .btn-submit::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  .btn-submit:hover::before {
    width: 300px;
    height: 300px;
  }
  
  .floating-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.5;
    animation: float 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }
  
  .alert-error {
    animation: shake 0.5s ease-in-out;
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
  }
</style>

<div class="min-h-[85vh] flex items-center justify-center relative overflow-hidden py-12 px-4">
  <!-- Formes flottantes dÃ©coratives -->
  <div class="floating-shape w-72 h-72 bg-purple-400 absolute top-20 -left-20" style="animation-delay: 0s;"></div>
  <div class="floating-shape w-96 h-96 bg-blue-400 absolute bottom-20 -right-20" style="animation-delay: 2s;"></div>
  <div class="floating-shape w-64 h-64 bg-pink-400 absolute top-1/2 left-1/3" style="animation-delay: 4s;"></div>

  <div class="login-container w-full max-w-md relative z-10">
    <!-- Card principale -->
    <div class="bg-white/90 backdrop-blur-xl p-10 rounded-3xl shadow-2xl border border-white/20">
      <!-- Logo/Icon -->
      <div class="flex justify-center mb-6">
        <div class="w-20 h-20 bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-xl transform hover:rotate-12 transition-transform">
          <span class="text-4xl">ğŸ”</span>
        </div>
      </div>

      <!-- Titre -->
      <h2 class="text-3xl font-black text-center bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2">
        Bon retour !
      </h2>
      <p class="text-center text-slate-600 mb-8 text-sm">
        Connectez-vous pour accÃ©der Ã  vos tÃ¢ches
      </p>

      <!-- Messages d'erreur Django -->
      {% if messages %}
      <div class="mb-6 space-y-2">
        {% for message in messages %}
        <div class="alert-error bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-3">
          <span class="text-xl">âš ï¸</span>
          <p class="text-sm font-semibold">{{ message }}</p>
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Formulaire -->
      <form method="POST" action="{% url 'login_user' %}" class="space-y-5">
        {% csrf_token %}

        <!-- Username -->
        <div>
          <label class="block mb-2 font-semibold text-slate-700 text-sm">
            ğŸ‘¤ Nom d'utilisateur
          </label>
          <input
            type="text"
            name="username"
            placeholder="Entrez votre nom d'utilisateur"
            class="input-field w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 focus:outline-none transition-all"
            required
          />
        </div>

        <!-- Password -->
        <div>
          <label class="block mb-2 font-semibold text-slate-700 text-sm">
            ğŸ”‘ Mot de passe
          </label>
          <input
            type="password"
            name="password"
            placeholder="Entrez votre mot de passe"
            class="input-field w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-500 focus:outline-none transition-all"
            required
          />
        </div>

        <!-- Mot de passe oubliÃ© -->
        <div class="text-right">
          <a href="#" class="text-sm text-purple-600 hover:text-purple-700 font-semibold hover:underline">
            Mot de passe oubliÃ© ?
          </a>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="btn-submit w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-xl font-bold text-lg shadow-lg relative overflow-hidden"
        >
          <span class="relative z-10">Se connecter ğŸš€</span>
        </button>

        <!-- Divider -->
        <div class="relative my-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-slate-200"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-4 bg-white text-slate-500 font-medium">ou</span>
          </div>
        </div>

        <!-- Inscription -->
        <div class="text-center">
          <p class="text-slate-600 mb-3">
            Pas encore de compte ?
          </p>
          <a
            href="{% url 'signin_user' %}"
            class="inline-flex items-center gap-2 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-semibold transition-all hover:scale-105 shadow-md"
          >
            <span>âœ¨</span>
            <span>CrÃ©er un compte gratuit</span>
          </a>
        </div>
      </form>
    </div>

    <!-- Info supplÃ©mentaire -->
    <div class="mt-6 text-center">
      <p class="text-sm text-slate-500">
        ğŸ”’ Connexion sÃ©curisÃ©e et chiffrÃ©e
      </p>
    </div>
  </div>
</div>
{% endblock %}